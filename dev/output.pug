doctype html
html( lang='en')
  head
    title Alert Output
    meta( charset='utf-8' )
    meta( name='viewport', content='width=device-width, height=device-height, initial-scale=1.0' )
    meta( http-equiv='X-UA-Compatible', content='IE=edge' )
    link( rel='icon', href='favicon.ico', type='image/x-icon' )
    link( rel='stylesheet', href='style.css' )
    script.
      document.addEventListener( 'DOMContentLoaded', function () {
        document.querySelectorAll( '.output' ).forEach( ( node ) => {
          let eventSource = new EventSource( '/events' );

          eventSource.addEventListener( 'alert', ( event ) => {
            console.log( '[event]', event );
            node.innerText = event.data;
          });

          eventSource.onmessage = function ( event ) {

          };
        });
      });

  body
    main.page
      section.section
        .container
          h1.h1 Alert Output
          pre.output empty
